"use strict";(self.webpackChunkdpk_site=self.webpackChunkdpk_site||[]).push([[82],{1631:(e,l,s)=>{s.r(l),s.d(l,{default:()=>g});var a=s(5043),i=(s(6262),s(5495),s(4975)),n=s(50),r=s(579);const c=e=>{let{active:l,initialSlide:s,images:a,onClose:c,swiperRef:t}=e;return(0,r.jsxs)("div",{className:"fullscreen-gallery "+(l?"fullscreen-gallery--active":""),onClick:e=>{(e.target.classList.contains("fullscreen-gallery__slide")||e.target.classList.contains("fullscreen-gallery"))&&c()},children:[(0,r.jsx)("button",{className:"fullscreen-gallery__close",onClick:c,children:"\u2715"}),(0,r.jsxs)("div",{className:"fullscreen-gallery__container",children:[(0,r.jsx)(i.RC,{ref:t,modules:[n.Vx,n.dK,n.s3],initialSlide:s,spaceBetween:0,slidesPerView:1,navigation:{prevEl:".fullscreen-gallery__nav-prev",nextEl:".fullscreen-gallery__nav-next"},pagination:{clickable:!0},loop:!0,keyboard:{enabled:!0,onlyInViewport:!1},centeredSlides:!0,children:a.map(((e,l)=>(0,r.jsx)(i.qr,{children:(0,r.jsx)("div",{className:"fullscreen-gallery__slide",children:(0,r.jsx)("img",{src:e,alt:`\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ${l+1}`,className:"fullscreen-gallery__image"})})},l)))}),(0,r.jsxs)("div",{className:"fullscreen-gallery__navigation",children:[(0,r.jsx)("button",{className:"fullscreen-gallery__nav-prev",children:(0,r.jsx)("span",{children:"\u276e"})}),(0,r.jsx)("button",{className:"fullscreen-gallery__nav-next",children:(0,r.jsx)("span",{children:"\u276f"})})]})]})]})},t=()=>(0,r.jsx)("div",{className:"gallery-section__header",children:(0,r.jsx)("h2",{className:"gallery-section__title",children:"\u0416\u0418\u0417\u041d\u042c \u041a\u041e\u041b\u041b\u0415\u0414\u0416\u0410"})}),d=s.p+"static/media/1.f444e8bbea7371d625ae.jpg",o=s.p+"static/media/2.8faa403138d0ecb89636.jpg",u=[[[{url:d,size:"large"},{url:o,size:"medium"}],[{url:s.p+"static/media/3.39bea4ff55de83eb6fcf.jpg",size:"medium"},{url:s.p+"static/media/4.95282ebcfa1dce5b6a84.jpg",size:"large"}]],[[{url:s.p+"static/media/5.f164968d0646e501652c.jpg",size:"medium"},{url:s.p+"static/media/6.eb58dd09e2aef518d291.jpg",size:"large"}],[{url:s.p+"static/media/7.dec7f88898dbd1996688.jpg",size:"large"},{url:s.p+"static/media/8.fe013dfad2033fe740b7.jpg",size:"medium"}]],[[{url:s.p+"static/media/9.4f1fb47c817a8b2aa27f.jpg",size:"large"},{url:s.p+"static/media/10.0f43aaa81c0d2475af98.jpg",size:"medium"}],[{url:s.p+"static/media/11.03fbcd638784173a3dc5.jpg",size:"medium"},{url:s.p+"static/media/12.828b9d8a5f7ecbd32937.jpg",size:"large"}]],[[{url:s.p+"static/media/13.fc9c8cc5aa371845057e.jpg",size:"medium"},{url:s.p+"static/media/14.38db6b1990bb64c2fa1c.jpg",size:"large"}],[{url:d,size:"large"},{url:o,size:"medium"}]]],m=e=>{let{onImageClick:l}=e;const s=(0,a.useRef)(null);return(0,r.jsxs)("div",{className:"gallery-section__slider",children:[(0,r.jsx)(i.RC,{ref:s,modules:[n.Vx,n.dK,n.Ij],spaceBetween:30,slidesPerView:1,navigation:{prevEl:".gallery-section__nav-prev",nextEl:".gallery-section__nav-next"},pagination:{clickable:!0},loop:!0,speed:600,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},style:{height:"100%"},children:u.map(((e,s)=>(0,r.jsx)(i.qr,{style:{height:"100%"},children:(0,r.jsx)("div",{className:"gallery-section__slide",children:e.map(((e,a)=>(0,r.jsx)("div",{className:"gallery-section__row",children:e.map(((e,i)=>(0,r.jsx)("div",{className:`gallery-section__item gallery-section__item--${e.size}`,onClick:()=>l(e.url),children:(0,r.jsx)("img",{src:e.url,alt:`\u0416\u0438\u0437\u043d\u044c \u043a\u043e\u043b\u043b\u0435\u0434\u0436\u0430 ${4*s+2*a+i+1}`,className:"gallery-section__image",loading:"lazy"})},i)))},a)))})},s)))}),(0,r.jsxs)("div",{className:"gallery-section__navigation",children:[(0,r.jsx)("button",{className:"gallery-section__nav-prev",children:(0,r.jsx)("span",{children:"\u276e"})}),(0,r.jsx)("button",{className:"gallery-section__nav-next",children:(0,r.jsx)("span",{children:"\u276f"})})]})]})},p=()=>{const[e,l]=(0,a.useState)(!1),[s,i]=(0,a.useState)(0),n=(0,a.useRef)(null),r=(0,a.useRef)(0),c=u.reduce(((e,l)=>(l.forEach((l=>{l.forEach((l=>{e.push(l.url)}))})),e)),[]),t=(0,a.useCallback)((e=>{const s=c.findIndex((l=>l===e));-1!==s&&(r.current=window.scrollY,i(s),document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${r.current}px`,document.body.style.overflow="hidden",l(!0))}),[c]),d=(0,a.useCallback)((()=>{const e=r.current;document.body.style.position="",document.body.style.width="",document.body.style.top="",document.body.style.overflow="",requestAnimationFrame((()=>{window.scrollTo(0,e)})),l(!1)}),[]);return(0,a.useEffect)((()=>{const l=l=>{var s;e&&("Escape"===l.key?d():null!==(s=n.current)&&void 0!==s&&s.swiper&&("ArrowLeft"===l.key?n.current.swiper.slidePrev():"ArrowRight"===l.key&&n.current.swiper.slideNext()))};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l),"fixed"===document.body.style.position&&(document.body.style.position="",document.body.style.width="",document.body.style.top="",document.body.style.overflow="")}}),[e,d]),{fullscreenActive:e,initialSlide:s,allImages:c,fullscreenSwiperRef:n,openFullscreenGallery:t,closeFullscreenGallery:d}},g=()=>{const{fullscreenActive:e,initialSlide:l,allImages:s,fullscreenSwiperRef:a,openFullscreenGallery:i,closeFullscreenGallery:n}=p();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{className:"gallery-section",children:(0,r.jsxs)("div",{className:"gallery-section__container",children:[(0,r.jsx)(t,{}),(0,r.jsx)(m,{onImageClick:i})]})}),(0,r.jsx)(c,{active:e,initialSlide:l,images:s,onClose:n,swiperRef:a})]})}}}]);
//# sourceMappingURL=82.6c306868.chunk.js.map